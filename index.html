<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Vision Book Creator</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Inter', sans-serif;
            background: #f5f5f5;
            color: #1a202c;
            padding: 40px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .container {
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.06);
            max-width: 1200px;
            width: 100%;
            overflow: hidden;
        }
        header {
            background: linear-gradient(135deg, #2b6cb0, #3182ce);
            color: #fff;
            padding: 30px;
            text-align: center;
        }
        header h1 {
            font-size: 2.2em;
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        header p {
            font-size: 1.2em;
            opacity: 0.9;
            margin-top: 5px;
        }
        .content {
            padding: 40px;
            display: flex;
            gap: 40px;
        }
        .left-panel {
            flex: 1;
        }
        .upload-area {
            border: 2px dashed #2b6cb0;
            padding: 30px;
            text-align: center;
            border-radius: 12px;
            background: #f9fafb;
            margin-bottom: 30px;
            transition: all 0.3s ease;
        }
        .upload-area:hover {
            background: #edf2f7;
            border-color: #3182ce;
        }
        .upload-area p {
            font-size: 1.1em;
            color: #4a5568;
            font-weight: 500;
        }
        .upload-area input {
            display: none;
        }
        .suggestions {
            margin: 30px 0;
        }
        .suggestions h3 {
            font-size: 1.3em;
            color: #2b6cb0;
            margin-bottom: 20px;
            font-weight: 600;
        }
        .suggestion-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        .suggestion-item {
            background: #e2e8f0;
            color: #2d3748;
            padding: 12px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.95em;
            font-weight: 500;
            text-align: center;
            transition: all 0.2s ease;
        }
        .suggestion-item:hover {
            background: #3182ce;
            color: #fff;
            transform: translateY(-2px);
        }
        .custom-scene {
            margin-top: 25px;
            display: flex;
            gap: 12px;
        }
        .custom-scene input {
            flex: 1;
            padding: 12px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.2s;
        }
        .custom-scene input:focus {
            border-color: #3182ce;
            outline: none;
        }
        .custom-scene button {
            background: #2b6cb0;
            color: #fff;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: background 0.2s;
        }
        .custom-scene button:hover {
            background: #3182ce;
        }
        .book-preview {
            flex: 2;
            max-height: 600px;
            overflow-y: auto;
            padding: 20px;
            background: #f9fafb;
            border-radius: 12px;
        }
        .page {
            background: #fff;
            border: 1px solid #edf2f7;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            min-height: 150px;
            position: relative;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        .page h4 {
            font-size: 1em;
            color: #2b6cb0;
            margin-bottom: 10px;
            font-weight: 600;
        }
        .page img {
            max-width: 100px;
            border-radius: 6px;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }
        .page p {
            font-size: 0.95em;
            color: #4a5568;
            text-align: center;
            padding: 20px;
        }
        .buy-section {
            text-align: center;
            padding: 20px;
            background: #f9fafb;
            border-top: 1px solid #edf2f7;
            border-radius: 0 0 16px 16px;
        }
        .buy-btn {
            background: #2b6cb0;
            color: #fff;
            padding: 14px 50px;
            border: none;
            border-radius: 8px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .buy-btn:hover {
            background: #3182ce;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        .price {
            font-size: 1.5em;
            color: #1a202c;
            margin-bottom: 15px;
            font-weight: 700;
        }
        footer {
            text-align: center;
            color: #718096;
            font-size: 0.9em;
            padding: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>AI Vision Book Creator</h1>
            <p>Your Christmas Gift – 40 Pages of You & Your Partner’s Dreams</p>
        </header>
        <div class="content">
            <!-- Left Panel: Upload & Suggestions -->
            <div class="left-panel">
                <div class="upload-area" id="uploadArea">
                    <p>Upload 7+ Photos of You & Your Partner (You’ll Both Star in the Book!)</p>
                    <input type="file" id="imageUpload" accept="image/*" multiple>
                </div>

                <div class="suggestions">
                    <h3>Add Pages Starring You Two</h3>
                    <div class="suggestion-grid">
                        <div class="suggestion-item" data-vision="Us Buying a House">Us Buying a House</div>
                        <div class="suggestion-item" data-vision="Us Getting Married">Us Getting Married</div>
                        <div class="suggestion-item" data-vision="Us Buying a Car">Us Buying a Car</div>
                        <div class="suggestion-item" data-vision="Us Getting Fit">Us Getting Fit</div>
                        <div class="suggestion-item" data-vision="Us Having a Baby">Us Having a Baby</div>
                        <div class="suggestion-item" data-vision="Us Starting a Business">Us Starting a Business</div>
                        <div class="suggestion-item" data-vision="Us Traveling the World">Us Traveling the World</div>
                        <div class="suggestion-item" data-vision="Us Renovating a Home">Us Renovating a Home</div>
                        <div class="suggestion-item" data-vision="Us Adopting a Pet">Us Adopting a Pet</div>
                        <div class="suggestion-item" data-vision="Us Winning an Award">Us Winning an Award</div>
                    </div>

                    <div class="custom-scene">
                        <input type="text" id="customScene" placeholder="Create Your Own (e.g., 'Us on Mars')">
                        <button onclick="addCustomScene()">Add Custom Page</button>
                    </div>
                </div>
            </div>

            <!-- Right Panel: Book Preview -->
            <div class="book-preview" id="bookPreview"></div>
        </div>

        <!-- Buy Section -->
        <div class="buy-section">
            <div class="price">$19.99</div>
            <button class="buy-btn" onclick="buyNow()">Buy Your Vision Book</button>
        </div>

        <footer>© 2025 xAI • Prototype v1.0 – Crafted for Dreamers</footer>
    </div>

    <script>
        const uploadArea = document.getElementById('uploadArea');
        const bookPreview = document.getElementById('bookPreview');
        const imageUpload = document.getElementById('imageUpload');
        let uploadedImages = [];
        let visionPages = []; // Array to track added visions
        let visionDetails = {}; // Object to store vision details

        // Predefined visions (limited to 10)
        const visions = [
            "Us Buying a House", "Us Getting Married", "Us Buying a Car", "Us Getting Fit",
            "Us Having a Baby", "Us Starting a Business", "Us Traveling the World", "Us Renovating a Home",
            "Us Adopting a Pet", "Us Winning an Award"
        ];
        const loveMessages = [
            "You’re my favorite person to dream with.", "Every day with you feels like a gift.",
            "I’d choose you in every lifetime.", "You make my heart stupidly happy.",
            "We’re building something epic together.", "You’re my safe place, always.",
            "Loving you is my greatest adventure.", "You’re the reason I believe in forever.",
            "Together, we’re unstoppable.", "You light up my world every damn day.",
            "I’m so damn proud to call you mine.", "You’re my partner in crime and cuddles.",
            "We fit together like perfect chaos.", "You’re my dream come true, no AI needed.",
            "I love us more than words can say.", "With you, every moment is magic."
        ];

        // Shuffle array function
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Initialize 40 pages with shuffled visions and messages
        function initializeBook() {
            bookPreview.innerHTML = '';
            const allContent = [...visions, ...loveMessages];
            const shuffledContent = shuffle(allContent.slice(0, 40)); // Ensure exactly 40 items
            for (let i = 1; i <= 40; i++) {
                const page = document.createElement('div');
                page.className = 'page';
                const content = shuffledContent[i - 1];
                page.innerHTML = `<h4>Page ${i}</h4>`;
                if (visions.includes(content)) {
                    page.dataset.vision = content;
                } else {
                    page.innerHTML += `<p>${content}</p>`;
                }
                bookPreview.appendChild(page);
            }
        }
        initializeBook();

        uploadArea.addEventListener('click', () => imageUpload.click());
        uploadArea.addEventListener('dragover', (e) => e.preventDefault());
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            handleFiles(e.dataTransfer.files);
        });
        imageUpload.addEventListener('change', (e) => handleFiles(e.target.files));

        function handleFiles(files) {
            uploadedImages = Array.from(files).slice(0, 7); // Limit to 7 images
            updateBookPreview();
        }

        // Add clickable functionality to suggestions
        document.querySelectorAll('.suggestion-item').forEach(item => {
            item.addEventListener('click', () => {
                const vision = item.dataset.vision;
                let detailPrompt = '';
                switch (vision) {
                    case "Us Buying a House": detailPrompt = "What kind of house would it be? (e.g., cozy cabin, modern condo)"; break;
                    case "Us Getting Married": detailPrompt = "Where would the wedding be? (e.g., beach in Hawaii, castle in Scotland)"; break;
                    case "Us Buying a Car": detailPrompt = "What type of car? (e.g., sleek Tesla, rugged Jeep)"; break;
                    case "Us Getting Fit": detailPrompt = "How would you get fit? (e.g., yoga retreat, marathon training)"; break;
                    case "Us Having a Baby": detailPrompt = "Boy or girl, and any name ideas? (e.g., girl named Luna)"; break;
                    case "Us Starting a Business": detailPrompt = "What kind of business? (e.g., coffee shop, tech startup)"; break;
                    case "Us Traveling the World": detailPrompt = "Where would you go? (e.g., Paris, Tokyo)"; break;
                    case "Us Renovating a Home": detailPrompt = "What style of home? (e.g., rustic farmhouse, sleek modern)"; break;
                    case "Us Adopting a Pet": detailPrompt = "What kind of pet? (e.g., fluffy dog, curious cat)"; break;
                    case "Us Winning an Award": detailPrompt = "What award would it be? (e.g., Oscar, Nobel Prize)"; break;
                    default: detailPrompt = "Add some details to make it personal!";
                }
                const detail = prompt(detailPrompt);
                if (detail) {
                    visionDetails[vision] = detail;
                    addToBook(vision);
                }
            });
        });

        function addToBook(vision) {
            if (visionPages.length < 24) {
                const pages = bookPreview.getElementsByClassName('page');
                let added = false;
                for (let page of pages) {
                    if (page.dataset.vision && !page.querySelector('img') && !visionPages.includes(page.dataset.vision)) {
                        const detailedVision = visionDetails[vision] ? `${vision} - ${visionDetails[vision]}` : vision;
                        page.innerHTML = `<h4>Page ${Array.from(pages).indexOf(page) + 1}: ${detailedVision}</h4>`;
                        if (uploadedImages.length > 0) {
                            const img = document.createElement('img');
                            img.src = URL.createObjectURL(uploadedImages[Math.floor(Math.random() * uploadedImages.length)]);
                            page.appendChild(img);
                        } else {
                            page.innerHTML += `<img src="https://via.placeholder.com/100?text=${vision}">`;
                        }
                        visionPages.push(page.dataset.vision);
                        added = true;
                        break;
                    }
                }
                if (!added) alert('No more vision pages available!');
            } else {
                alert('Max 24 vision pages reached!');
            }
        }

        function addCustomScene() {
            const customInput = document.getElementById('customScene');
            const customText = customInput.value.trim();
            if (customText && visionPages.length < 24) {
                const detail = prompt("Add some details to make it personal! (e.g., location, specifics)");
                if (detail) {
                    visionDetails[customText] = detail;
                    addToBook(customText);
                    customInput.value = '';
                }
            } else if (visionPages.length >= 24) {
                alert('Max 24 vision pages reached!');
            } else {
                alert('Describe a scene, dreamer!');
            }
        }

        function updateBookPreview() {
            const pages = bookPreview.getElementsByClassName('page');
            let imageIndex = 0;
            for (let page of pages) {
                if (page.dataset.vision && !page.querySelector('img') && imageIndex < uploadedImages.length) {
                    const detailedVision = visionDetails[page.dataset.vision] ? `${page.dataset.vision} - ${visionDetails[page.dataset.vision]}` : page.dataset.vision;
                    page.innerHTML = `<h4>Page ${Array.from(pages).indexOf(page) + 1}: ${detailedVision}</h4>`;
                    const img = document.createElement('img');
                    img.src = URL.createObjectURL(uploadedImages[imageIndex]);
                    page.appendChild(img);
                    visionPages.push(page.dataset.vision);
                    imageIndex++;
                }
            }
        }

        function buyNow() {
            const visionCount = visionPages.length;
            if (visionCount < 1) {
                alert('Add some photos or visions first – we need you two in the book!');
            } else {
                let visionSummary = "Your book includes:\n";
                visionPages.forEach(vision => {
                    const detail = visionDetails[vision] || "No extra details";
                    visionSummary += `- ${vision} - ${detail}\n`;
                });
                alert(`Sweet! $19.99 – Your 40-page Vision Book with ${visionCount} personalized visions is processing...\n\n${visionSummary}\n[Payment TBD]`);
            }
        }
    </script>
</body>
</html>
